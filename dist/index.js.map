{"version":3,"sources":["../src/index.ts","../components/field.tsx","../components/image-preview-cell.tsx","../components/link.tsx","../components/page-header.tsx","../components/ui/button.tsx","../src/lib/utils.ts","../components/hooks/use-on-back.tsx","../components/ui/breadcrumb.tsx","../components/ui/card.tsx","../components/ui/input.tsx","../components/ui/skeleton.tsx","../components/inputs/image-input.tsx","../components/ui/dialog.tsx"],"sourcesContent":["// Server-safe Business Components\nimport \"./styles.css\"\nexport { Field } from \"../components/field\"\nexport { default as ImagePreviewCell } from \"../components/image-preview-cell\"\nexport { Link } from \"../components/link\"\nexport { PageHeader } from \"../components/page-header\"\n\n// Server-safe UI Components\nexport {\n  Breadcrumb,\n  BreadcrumbEllipsis,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from \"../components/ui/breadcrumb\"\nexport {\n  Button,\n  buttonVariants,\n  type ButtonProps,\n} from \"../components/ui/button\"\nexport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n} from \"../components/ui/card\"\nexport { Input } from \"../components/ui/input\"\nexport { Skeleton } from \"../components/ui/skeleton\"\nexport { default as ImageInput } from \"../components/inputs/image-input\"\nexport { cn } from \"../src/lib/utils\"\n","import { ReactElement, cloneElement } from \"react\"\r\nimport {\r\n  ControllerRenderProps,\r\n  FieldPath,\r\n  FieldValues,\r\n  UseControllerProps,\r\n} from \"react-hook-form\"\r\n\r\nexport type FieldProps<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n> = UseControllerProps<TFieldValues, TName> & {\r\n  label?: string\r\n  description?: string\r\n  className?: string\r\n  isCheckbox?: boolean\r\n  isRequired?: boolean\r\n  children: ReactElement<{\r\n    field: ControllerRenderProps<TFieldValues, TName>\r\n  }>\r\n}\r\nexport const Field = ({ label, description, children }: FieldProps) => {\r\n  return (\r\n    <div>\r\n      {label && <div>{label}</div>}\r\n      {children}\r\n      {description && <div>{description}</div>}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport React, { useState, useEffect } from 'react'\r\nimport Image from 'next/image'\r\nimport { Image as ImageIcon } from 'lucide-react'\r\n\r\ntype ImagePreviewCellProps = {\r\n  src: string\r\n  alt?: string\r\n  thumbnailSize?: number\r\n}\r\n\r\nconst ImagePreviewCell = ({\r\n  src,\r\n  alt = 'Vista previa',\r\n  thumbnailSize = 48,\r\n}: ImagePreviewCellProps) => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [hasError, setHasError] = useState(false)\r\n  const [imageLoaded, setImageLoaded] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') setIsOpen(false)\r\n    }\r\n    window.addEventListener('keydown', handleKeyDown)\r\n    return () => window.removeEventListener('keydown', handleKeyDown)\r\n  }, [isOpen])\r\n\r\n  useEffect(() => {\r\n    const img = new window.Image()\r\n    img.src = src\r\n    img.onload = () => {\r\n      setImageLoaded(true)\r\n      setHasError(false)\r\n    }\r\n    img.onerror = () => {\r\n      setImageLoaded(false)\r\n      setHasError(true)\r\n    }\r\n  }, [src])\r\n\r\n  return (\r\n    <div className=\"h-full w-full\">\r\n      <button\r\n        type=\"button\"\r\n        aria-label={alt}\r\n        className=\"h-full w-full border-none bg-transparent p-0\"\r\n        style={{ lineHeight: 0 }}\r\n        onClick={() => imageLoaded && setIsOpen(true)}\r\n      >\r\n        {hasError ? (\r\n          <div className=\"flex h-12 w-12 items-center justify-center rounded border bg-gray-100 text-gray-400\">\r\n            <ImageIcon size={24} />\r\n          </div>\r\n        ) : (\r\n          <Image\r\n            src={src}\r\n            alt={alt}\r\n            width={thumbnailSize}\r\n            height={thumbnailSize}\r\n            className=\"h-full w-full cursor-pointer rounded border object-cover\"\r\n          />\r\n        )}\r\n      </button>\r\n\r\n      {isOpen && imageLoaded && (\r\n        <div\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          tabIndex={-1}\r\n          onClick={() => setIsOpen(false)}\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm\"\r\n        >\r\n          <Image\r\n            src={src}\r\n            alt={alt + ' ampliada'}\r\n            width={600}\r\n            height={600}\r\n            className=\"max-h-[90vh] max-w-[90vw] rounded object-contain\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePreviewCell\r\n","import { AnchorHTMLAttributes, forwardRef } from \"react\"\r\nimport { useLink, useRouterContext, useRouterType } from \"@refinedev/core\"\r\n\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\n\r\ntype LinkProps = AnchorHTMLAttributes<HTMLAnchorElement> & {\r\n  asChild?: boolean\r\n}\r\n\r\nexport const Link = forwardRef<HTMLAnchorElement, LinkProps>(\r\n  ({ children, href, title, className, asChild }, ref) => {\r\n    const { Link: LegacyLink } = useRouterContext()\r\n    const routerType = useRouterType()\r\n    const Link = useLink()\r\n\r\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link\r\n    const Comp = asChild ? Slot : ActiveLink\r\n\r\n    return (\r\n      <Comp ref={ref} to={href} className={className} title={title}>\r\n        {children}\r\n      </Comp>\r\n    )\r\n  }\r\n)\r\nLink.displayName = \"Link\"\r\n","import { ArrowLeft } from \"lucide-react\"\r\nimport { Button } from \"./ui/button\"\r\nimport { PageHeaderProps } from \"./layout/header/types\"\r\nimport { useOnBack } from \"./hooks/use-on-back\"\r\nimport { cn } from \"../src/lib/utils\"\r\n\r\nexport const PageHeader = ({\r\n  extra,\r\n  children,\r\n  className,\r\n  title,\r\n  subTitle,\r\n  isBack = false,\r\n  ...props\r\n}: PageHeaderProps) => {\r\n  const back = useOnBack()\r\n  return (\r\n    <div className={cn(className, \"w-full\")}>\r\n      <>\r\n        <div\r\n          className={cn(\r\n            \"flex h-20 items-end lg:justify-between\",\r\n\r\n            !props.breadcrumb && \"h-auto\"\r\n          )}\r\n        >\r\n          <div className=\"min-w-0 flex-1\">\r\n            {props.breadcrumb}\r\n            <div className=\"mt-3 inline-flex flex-row items-center gap-x-4\">\r\n              {isBack && (\r\n                <Button variant=\"ghost\" onClick={() => back?.()}>\r\n                  <ArrowLeft />\r\n                </Button>\r\n              )}\r\n              <div className=\"inline-flex flex-col\">\r\n                <h2 className=\"text-2xl font-bold text-black sm:truncate sm:text-3xl sm:tracking-tight dark:text-white\">\r\n                  {title}\r\n                </h2>\r\n                {subTitle && (\r\n                  <div className=\"mt-2 flex items-center text-sm text-gray-300\">\r\n                    {subTitle}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex lg:mt-0 lg:ml-4\">{extra}</div>\r\n        </div>\r\n        <div className=\"mt-4\">{children}</div>\r\n      </>\r\n    </div>\r\n  )\r\n}\r\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"../../src/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n  loading?: boolean\n  icon?: React.ReactElement<SVGSVGElement>\n}\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  ButtonProps &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","// Placeholder for utils\nexport function cn(...args: any[]) {\n  return args.filter(Boolean).join(\" \")\n}\n","// Portable useOnBack hook\r\nexport const useOnBack = (): (() => void) => {\r\n  return () => window.history.back()\r\n}\r\n","import * as React from \"react\"\n\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cn } from \"../../src/lib/utils\"\n\nfunction Breadcrumb({ ...props }: React.ComponentProps<\"nav\">) {\n  return <nav aria-label=\"breadcrumb\" data-slot=\"breadcrumb\" {...props} />\n}\n\nfunction BreadcrumbList({ className, ...props }: React.ComponentProps<\"ol\">) {\n  return (\n    <ol\n      data-slot=\"breadcrumb-list\"\n      className={cn(\n        \"text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"breadcrumb-item\"\n      className={cn(\"inline-flex items-center gap-1.5\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbLink({\n  asChild,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"breadcrumb-link\"\n      className={cn(\"hover:text-foreground transition-colors\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbPage({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"breadcrumb-page\"\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn(\"text-foreground font-normal\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"breadcrumb-separator\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn(\"[&>svg]:size-3.5\", className)}\n      {...props}\n    >\n      {children ?? <ChevronRight />}\n    </li>\n  )\n}\n\nfunction BreadcrumbEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"breadcrumb-ellipsis\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn(\"flex size-9 items-center justify-center\", className)}\n      {...props}\n    >\n      <MoreHorizontal className=\"size-4\" />\n      <span className=\"sr-only\">More</span>\n    </span>\n  )\n}\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","import * as React from \"react\"\nimport { cn } from \"../../src/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","import * as React from \"react\"\nimport { cn } from \"../../src/lib/utils\"\n\ninterface InputProps extends Omit<React.ComponentProps<\"input\">, \"onChange\"> {\n  float?: boolean\n  onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nfunction Input({ className, type, float, onChange, ...props }: InputProps) {\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (float && event.target.value) {\n      const numericValue = parseFloat(event.target.value)\n      if (!isNaN(numericValue)) {\n        event.target.value = numericValue.toString()\n      }\n    }\n    onChange?.(event)\n  }\n\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      onChange={handleChange}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","import { cn } from \"../../src/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","\"use client\"\r\n\r\nimport React, { useCallback, useMemo, useRef, useState } from \"react\"\r\nimport ImagePreviewCell from \"../image-preview-cell\"\r\nimport Cropper from \"react-easy-crop\"\r\nimport { X, Upload, Crop as CropIcon, Loader2 } from \"lucide-react\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from \"../ui/dialog\"\r\nimport { useAuth } from \"@clerk/nextjs\"\r\nimport { Button } from \"../ui/button\"\r\nimport { Slider } from \"@radix-ui/react-slider\"\r\n\r\nexport type ImageInputProps = {\r\n  value?: string | null\r\n  onChange: (url: string | null) => void\r\n  label?: string\r\n  disabled?: boolean\r\n  uploadUrl?: string\r\n  cropSize?: number\r\n  formFieldName?: string\r\n  className?: string\r\n}\r\n\r\nasync function getCroppedBlob(\r\n  imageSrc: string,\r\n  pixelCrop: { x: number; y: number; width: number; height: number },\r\n  outputSize = 300\r\n): Promise<Blob> {\r\n  const img = await new Promise<HTMLImageElement>((resolve, reject) => {\r\n    const image = new Image()\r\n    image.crossOrigin = \"anonymous\"\r\n    image.onload = () => resolve(image)\r\n    image.onerror = reject\r\n    image.src = imageSrc\r\n  })\r\n\r\n  // Determine output width and height\r\n  let outputWidth = outputSize\r\n  let outputHeight = outputSize\r\n  if (outputSize === 296) {\r\n    outputWidth = 560\r\n    outputHeight = 296\r\n  }\r\n\r\n  const canvas = document.createElement(\"canvas\")\r\n  const ctx = canvas.getContext(\"2d\")\r\n  if (!ctx) throw new Error(\"No canvas context\")\r\n\r\n  canvas.width = outputWidth\r\n  canvas.height = outputHeight\r\n  ctx.imageSmoothingQuality = \"high\"\r\n  ctx.drawImage(\r\n    img,\r\n    pixelCrop.x,\r\n    pixelCrop.y,\r\n    pixelCrop.width,\r\n    pixelCrop.height,\r\n    0,\r\n    0,\r\n    outputWidth,\r\n    outputHeight\r\n  )\r\n\r\n  return new Promise<Blob>((resolve, reject) => {\r\n    canvas.toBlob(\r\n      (blob) => {\r\n        if (!blob) return reject(new Error(\"Canvas is empty\"))\r\n        resolve(blob)\r\n      },\r\n      \"image/jpeg\",\r\n      0.92\r\n    )\r\n  })\r\n}\r\n\r\nfunction classNames(...parts: Array<string | false | null | undefined>) {\r\n  return parts.filter(Boolean).join(\" \")\r\n}\r\n\r\nexport default function ImageInput({\r\n  value,\r\n  onChange,\r\n  label = \"Imagen\",\r\n  disabled,\r\n  uploadUrl = \"https://semillapp-api-production-08ab.up.railway.app/upload\",\r\n  cropSize = 300,\r\n  formFieldName = \"file\",\r\n  className,\r\n}: ImageInputProps) {\r\n  const inputRef = useRef<HTMLInputElement | null>(null)\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(value ?? null)\r\n  const [localFileUrl, setLocalFileUrl] = useState<string | null>(null)\r\n\r\n  // Cropper state\r\n  const [isCropOpen, setIsCropOpen] = useState(false)\r\n  const [crop, setCrop] = useState({ x: 0, y: 0 })\r\n  const [zoom, setZoom] = useState(1)\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState<{\r\n    x: number\r\n    y: number\r\n    width: number\r\n    height: number\r\n  } | null>(null)\r\n\r\n  const [isUploading, setIsUploading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const { getToken } = useAuth()\r\n  const [token, setToken] = useState<string | null>(null)\r\n  React.useEffect(() => {\r\n    getToken().then(setToken)\r\n  }, [getToken])\r\n\r\n  React.useEffect(() => {\r\n    setPreviewUrl(value ?? null)\r\n  }, [value])\r\n\r\n  const onSelectFile = useCallback((file: File) => {\r\n    if (!file) return\r\n    const url = URL.createObjectURL(file)\r\n    setLocalFileUrl(url)\r\n    setIsCropOpen(true)\r\n    setZoom(1)\r\n    setCrop({ x: 0, y: 0 })\r\n    setError(null)\r\n  }, [])\r\n\r\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    const file = e.target.files?.[0]\r\n    if (file) onSelectFile(file)\r\n  }\r\n\r\n  const onDrop = useCallback(\r\n    (e: React.DragEvent<HTMLDivElement>) => {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n      if (disabled) return\r\n      const file = e.dataTransfer.files?.[0]\r\n      if (file && file.type.startsWith(\"image/\")) onSelectFile(file)\r\n    },\r\n    [disabled, onSelectFile]\r\n  )\r\n\r\n  const onDragOver = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n  }\r\n\r\n  const onCropComplete = useCallback(\r\n    (\r\n      _area: { x: number; y: number; width: number; height: number },\r\n      areaPixels: { x: number; y: number; width: number; height: number }\r\n    ) => {\r\n      setCroppedAreaPixels(areaPixels)\r\n    },\r\n    []\r\n  )\r\n\r\n  const doUpload = useCallback(async () => {\r\n    if (!croppedAreaPixels) return\r\n    setIsUploading(true)\r\n    setError(null)\r\n    try {\r\n      const src = localFileUrl ?? previewUrl\r\n      if (!src) throw new Error(\"No hay imagen seleccionada\")\r\n\r\n      const blob = await getCroppedBlob(src, croppedAreaPixels, cropSize)\r\n      const formData = new FormData()\r\n      formData.append(formFieldName, blob, \"image.jpg\")\r\n\r\n      const res = await fetch(uploadUrl, {\r\n        method: \"POST\",\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n        body: formData,\r\n      })\r\n      if (!res.ok) throw new Error(`Upload failed (${res.status})`)\r\n      const json: { url?: string } = await res.json()\r\n      if (!json.url) throw new Error(\"Response missing url\")\r\n\r\n      setPreviewUrl(json.url)\r\n      onChange(json.url)\r\n      setIsCropOpen(false)\r\n    } catch (err) {\r\n      const error = err as Error | { message?: string }\r\n      console.log(\"Error uploading image:\", error.message)\r\n      setError(error?.message ?? \"Error subiendo la imagen\")\r\n    } finally {\r\n      setIsUploading(false)\r\n      if (localFileUrl) URL.revokeObjectURL(localFileUrl)\r\n      setLocalFileUrl(null)\r\n    }\r\n  }, [\r\n    croppedAreaPixels,\r\n    cropSize,\r\n    formFieldName,\r\n    localFileUrl,\r\n    previewUrl,\r\n    onChange,\r\n    uploadUrl,\r\n    token,\r\n  ])\r\n\r\n  const clearImage = () => {\r\n    setPreviewUrl(null)\r\n    onChange(null)\r\n    setError(null)\r\n  }\r\n\r\n  const dropLabel = useMemo(() => {\r\n    let cropText = `se recorta a ${cropSize}×${cropSize}`\r\n    if (cropSize === 296) cropText = \"se recorta a 560×296\"\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center gap-1 text-center\">\r\n        <div className=\"rounded-full border p-1.5\">\r\n          <Upload className=\"h-3.5 w-3.5\" />\r\n        </div>\r\n        <div className=\"text-xs font-medium\">\r\n          Selecciona o arrastra una imagen\r\n        </div>\r\n        <div className=\"text-muted-foreground text-[11px]\">\r\n          PNG, JPG • {cropText}\r\n        </div>\r\n      </div>\r\n    )\r\n  }, [cropSize])\r\n\r\n  return (\r\n    <div className={classNames(\"w-full\", className)}>\r\n      {label && (\r\n        <label className=\"text-foreground mb-2 block text-sm font-medium\">\r\n          {label}\r\n        </label>\r\n      )}\r\n\r\n      <div className=\"flex items-start gap-4\">\r\n        {previewUrl && (\r\n          <div className=\"bg-muted relative h-24 w-24 shrink-0 overflow-hidden rounded-xl border\">\r\n            <div className=\"h-full w-full object-cover\">\r\n              <ImagePreviewCell src={previewUrl} alt=\"preview\" />\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={clearImage}\r\n              disabled={disabled}\r\n              className=\"bg-background/95 hover:bg-background absolute top-1 right-1 rounded-full border p-1 shadow\"\r\n              title=\"Quitar imagen\"\r\n              aria-label=\"Quitar imagen\"\r\n            >\r\n              <X className=\"h-3.5 w-3.5\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex flex-1 flex-col gap-2\">\r\n          {!previewUrl ? (\r\n            <div\r\n              onDrop={onDrop}\r\n              onDragOver={onDragOver}\r\n              role=\"button\"\r\n              tabIndex={0}\r\n              onKeyDown={(e) => {\r\n                if (!disabled && (e.key === \"Enter\" || e.key === \" \")) {\r\n                  e.preventDefault()\r\n                  inputRef.current?.click()\r\n                }\r\n              }}\r\n              className={classNames(\r\n                \"relative flex h-20 w-full cursor-pointer items-center justify-center rounded-xl border-2 border-dashed px-3\",\r\n                disabled ? \"cursor-not-allowed opacity-60\" : \"hover:bg-muted/50\"\r\n              )}\r\n              onClick={() => !disabled && inputRef.current?.click()}\r\n            >\r\n              {dropLabel}\r\n              <input\r\n                ref={inputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={onInputChange}\r\n                className=\"hidden\"\r\n                disabled={disabled}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              type=\"button\"\r\n              onClick={() => inputRef.current?.click()}\r\n              disabled={disabled}\r\n            >\r\n              <Upload className=\"mr-2 h-3.5 w-3.5\" /> Cambiar imagen\r\n              <input\r\n                ref={inputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={onInputChange}\r\n                className=\"hidden\"\r\n                disabled={disabled}\r\n              />\r\n            </Button>\r\n          )}\r\n\r\n          {previewUrl && (\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              type=\"button\"\r\n              onClick={() => setIsCropOpen(true)}\r\n              disabled={disabled}\r\n            >\r\n              <CropIcon className=\"mr-2 h-3.5 w-3.5\" /> Recortar\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {error && <div className=\"text-destructive mt-2 text-sm\">{error}</div>}\r\n\r\n      <Dialog\r\n        open={isCropOpen}\r\n        onOpenChange={(open) => {\r\n          if (!isUploading) setIsCropOpen(open)\r\n        }}\r\n      >\r\n        <DialogContent className=\"max-w-xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Recortar imagen</DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className=\"bg-muted relative aspect-square w-full overflow-hidden rounded-lg\">\r\n            {localFileUrl || previewUrl ? (\r\n              <Cropper\r\n                image={localFileUrl ?? (previewUrl as string)}\r\n                crop={crop}\r\n                zoom={zoom}\r\n                aspect={cropSize === 296 ? 560 / 296 : 1}\r\n                onCropChange={setCrop}\r\n                onCropComplete={onCropComplete}\r\n                onZoomChange={setZoom}\r\n                restrictPosition\r\n                showGrid\r\n              />\r\n            ) : (\r\n              <div className=\"text-muted-foreground flex h-full items-center justify-center text-sm\">\r\n                Selecciona una imagen para recortar\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-4 space-y-2\">\r\n            <div className=\"text-muted-foreground text-xs\">Zoom</div>\r\n            <Slider\r\n              value={[zoom]}\r\n              min={1}\r\n              max={4}\r\n              step={0.1}\r\n              onValueChange={(v) => setZoom(v[0] ?? 1)}\r\n            />\r\n            <div className=\"text-muted-foreground text-xs\">\r\n              Salida final:{\" \"}\r\n              {cropSize === 296 ? \"560×296\" : `${cropSize}×${cropSize}`}px\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter className=\"gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"ghost\"\r\n              onClick={() => {\r\n                setIsCropOpen(false)\r\n                if (localFileUrl) URL.revokeObjectURL(localFileUrl)\r\n                setLocalFileUrl(null)\r\n                setCroppedAreaPixels(null)\r\n              }}\r\n              disabled={isUploading}\r\n            >\r\n              <X className=\"mr-2 h-4 w-4\" /> Cancelar\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              onClick={doUpload}\r\n              disabled={\r\n                isUploading ||\r\n                !croppedAreaPixels ||\r\n                !(localFileUrl || previewUrl)\r\n              }\r\n            >\r\n              {isUploading ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Subiendo…\r\n                </>\r\n              ) : (\r\n                <>Aceptar</>\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\nimport { cn } from \"../../src/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACuBI;AAFG,IAAM,QAAQ,CAAC,EAAE,OAAO,aAAa,SAAS,MAAkB;AACrE,SACE,6CAAC,SACE;AAAA,aAAS,4CAAC,SAAK,iBAAM;AAAA,IACrB;AAAA,IACA,eAAe,4CAAC,SAAK,uBAAY;AAAA,KACpC;AAEJ;;;AC3BA,mBAA2C;AAC3C,mBAAkB;AAClB,0BAAmC;AAwC/B,IAAAA,sBAAA;AAhCJ,IAAM,mBAAmB,CAAC;AAAA,EACxB;AAAA,EACA,MAAM;AAAA,EACN,gBAAgB;AAClB,MAA6B;AAC3B,QAAM,CAAC,QAAQ,SAAS,QAAI,uBAAS,KAAK;AAC1C,QAAM,CAAC,UAAU,WAAW,QAAI,uBAAS,KAAK;AAC9C,QAAM,CAAC,aAAa,cAAc,QAAI,uBAAS,KAAK;AAEpD,8BAAU,MAAM;AACd,QAAI,CAAC,OAAQ;AACb,UAAM,gBAAgB,CAAC,MAAqB;AAC1C,UAAI,EAAE,QAAQ,SAAU,WAAU,KAAK;AAAA,IACzC;AACA,WAAO,iBAAiB,WAAW,aAAa;AAChD,WAAO,MAAM,OAAO,oBAAoB,WAAW,aAAa;AAAA,EAClE,GAAG,CAAC,MAAM,CAAC;AAEX,8BAAU,MAAM;AACd,UAAM,MAAM,IAAI,OAAO,MAAM;AAC7B,QAAI,MAAM;AACV,QAAI,SAAS,MAAM;AACjB,qBAAe,IAAI;AACnB,kBAAY,KAAK;AAAA,IACnB;AACA,QAAI,UAAU,MAAM;AAClB,qBAAe,KAAK;AACpB,kBAAY,IAAI;AAAA,IAClB;AAAA,EACF,GAAG,CAAC,GAAG,CAAC;AAER,SACE,8CAAC,SAAI,WAAU,iBACb;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,MAAK;AAAA,QACL,cAAY;AAAA,QACZ,WAAU;AAAA,QACV,OAAO,EAAE,YAAY,EAAE;AAAA,QACvB,SAAS,MAAM,eAAe,UAAU,IAAI;AAAA,QAE3C,qBACC,6CAAC,SAAI,WAAU,uFACb,uDAAC,oBAAAC,OAAA,EAAU,MAAM,IAAI,GACvB,IAEA;AAAA,UAAC,aAAAC;AAAA,UAAA;AAAA,YACC;AAAA,YACA;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YACR,WAAU;AAAA;AAAA,QACZ;AAAA;AAAA,IAEJ;AAAA,IAEC,UAAU,eACT;AAAA,MAAC;AAAA;AAAA,QACC,MAAK;AAAA,QACL,cAAW;AAAA,QACX,UAAU;AAAA,QACV,SAAS,MAAM,UAAU,KAAK;AAAA,QAC9B,WAAU;AAAA,QAEV;AAAA,UAAC,aAAAA;AAAA,UAAA;AAAA,YACC;AAAA,YACA,KAAK,MAAM;AAAA,YACX,OAAO;AAAA,YACP,QAAQ;AAAA,YACR,WAAU;AAAA;AAAA,QACZ;AAAA;AAAA,IACF;AAAA,KAEJ;AAEJ;AAEA,IAAO,6BAAQ;;;ACxFf,IAAAC,gBAAiD;AACjD,kBAAyD;AAEzD,wBAAqB;AAgBf,IAAAC,sBAAA;AAVC,IAAM,WAAO;AAAA,EAClB,CAAC,EAAE,UAAU,MAAM,OAAO,WAAW,QAAQ,GAAG,QAAQ;AACtD,UAAM,EAAE,MAAM,WAAW,QAAI,8BAAiB;AAC9C,UAAM,iBAAa,2BAAc;AACjC,UAAMC,YAAO,qBAAQ;AAErB,UAAM,aAAa,eAAe,WAAW,aAAaA;AAC1D,UAAM,OAAO,UAAU,yBAAO;AAE9B,WACE,6CAAC,QAAK,KAAU,IAAI,MAAM,WAAsB,OAC7C,UACH;AAAA,EAEJ;AACF;AACA,KAAK,cAAc;;;ACzBnB,IAAAC,uBAA0B;;;ACC1B,IAAAC,qBAAqB;AACrB,sCAAuC;;;ACDhC,SAAS,MAAM,MAAa;AACjC,SAAO,KAAK,OAAO,OAAO,EAAE,KAAK,GAAG;AACtC;;;ADuDI,IAAAC,sBAAA;AArDJ,IAAM,qBAAiB;AAAA,EACrB;AAAA,EACA;AAAA,IACE,UAAU;AAAA,MACR,SAAS;AAAA,QACP,SACE;AAAA,QACF,aACE;AAAA,QACF,SACE;AAAA,QACF,WACE;AAAA,QACF,OACE;AAAA,QACF,MAAM;AAAA,MACR;AAAA,MACA,MAAM;AAAA,QACJ,SAAS;AAAA,QACT,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,IACF;AAAA,IACA,iBAAiB;AAAA,MACf,SAAS;AAAA,MACT,MAAM;AAAA,IACR;AAAA,EACF;AACF;AAUA,SAAS,OAAO;AAAA,EACd;AAAA,EACA;AAAA,EACA;AAAA,EACA,UAAU;AAAA,EACV,GAAG;AACL,GAIK;AACH,QAAM,OAAO,UAAU,0BAAO;AAE9B,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,eAAe,EAAE,SAAS,MAAM,UAAU,CAAC,CAAC;AAAA,MACzD,GAAG;AAAA;AAAA,EACN;AAEJ;;;AE/DO,IAAM,YAAY,MAAoB;AAC3C,SAAO,MAAM,OAAO,QAAQ,KAAK;AACnC;;;AHeM,IAAAC,sBAAA;AAZC,IAAM,aAAa,CAAC;AAAA,EACzB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,SAAS;AAAA,EACT,GAAG;AACL,MAAuB;AACrB,QAAM,OAAO,UAAU;AACvB,SACE,6CAAC,SAAI,WAAW,GAAG,WAAW,QAAQ,GACpC,wFACE;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAW;AAAA,UACT;AAAA,UAEA,CAAC,MAAM,cAAc;AAAA,QACvB;AAAA,QAEA;AAAA,wDAAC,SAAI,WAAU,kBACZ;AAAA,kBAAM;AAAA,YACP,8CAAC,SAAI,WAAU,kDACZ;AAAA,wBACC,6CAAC,UAAO,SAAQ,SAAQ,SAAS,MAAM,OAAO,GAC5C,uDAAC,kCAAU,GACb;AAAA,cAEF,8CAAC,SAAI,WAAU,wBACb;AAAA,6DAAC,QAAG,WAAU,2FACX,iBACH;AAAA,gBACC,YACC,6CAAC,SAAI,WAAU,gDACZ,oBACH;AAAA,iBAEJ;AAAA,eACF;AAAA,aACF;AAAA,UACA,6CAAC,SAAI,WAAU,wBAAwB,iBAAM;AAAA;AAAA;AAAA,IAC/C;AAAA,IACA,6CAAC,SAAI,WAAU,QAAQ,UAAS;AAAA,KAClC,GACF;AAEJ;;;AIlDA,IAAAC,uBAA6C;AAE7C,IAAAC,qBAAqB;AAIZ,IAAAC,sBAAA;AADT,SAAS,WAAW,EAAE,GAAG,MAAM,GAAgC;AAC7D,SAAO,6CAAC,SAAI,cAAW,cAAa,aAAU,cAAc,GAAG,OAAO;AACxE;AAEA,SAAS,eAAe,EAAE,WAAW,GAAG,MAAM,GAA+B;AAC3E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,eAAe,EAAE,WAAW,GAAG,MAAM,GAA+B;AAC3E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,oCAAoC,SAAS;AAAA,MAC1D,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,eAAe;AAAA,EACtB;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAEG;AACD,QAAM,OAAO,UAAU,0BAAO;AAE9B,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,2CAA2C,SAAS;AAAA,MACjE,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,eAAe,EAAE,WAAW,GAAG,MAAM,GAAiC;AAC7E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,MAAK;AAAA,MACL,iBAAc;AAAA,MACd,gBAAa;AAAA,MACb,WAAW,GAAG,+BAA+B,SAAS;AAAA,MACrD,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAA+B;AAC7B,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,MAAK;AAAA,MACL,eAAY;AAAA,MACZ,WAAW,GAAG,oBAAoB,SAAS;AAAA,MAC1C,GAAG;AAAA,MAEH,sBAAY,6CAAC,qCAAa;AAAA;AAAA,EAC7B;AAEJ;AAEA,SAAS,mBAAmB;AAAA,EAC1B;AAAA,EACA,GAAG;AACL,GAAiC;AAC/B,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,MAAK;AAAA,MACL,eAAY;AAAA,MACZ,WAAW,GAAG,2CAA2C,SAAS;AAAA,MACjE,GAAG;AAAA,MAEJ;AAAA,qDAAC,uCAAe,WAAU,UAAS;AAAA,QACnC,6CAAC,UAAK,WAAU,WAAU,kBAAI;AAAA;AAAA;AAAA,EAChC;AAEJ;;;AC9FI,IAAAC,sBAAA;AAFJ,SAAS,KAAK,EAAE,WAAW,GAAG,MAAM,GAAgC;AAClE,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,WAAW,EAAE,WAAW,GAAG,MAAM,GAAgC;AACxE,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,UAAU,EAAE,WAAW,GAAG,MAAM,GAAgC;AACvE,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,8BAA8B,SAAS;AAAA,MACpD,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,gBAAgB,EAAE,WAAW,GAAG,MAAM,GAAgC;AAC7E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,iCAAiC,SAAS;AAAA,MACvD,GAAG;AAAA;AAAA,EACN;AAEJ;AAeA,SAAS,YAAY,EAAE,WAAW,GAAG,MAAM,GAAgC;AACzE,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,QAAQ,SAAS;AAAA,MAC9B,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,WAAW,EAAE,WAAW,GAAG,MAAM,GAAgC;AACxE,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,2CAA2C,SAAS;AAAA,MACjE,GAAG;AAAA;AAAA,EACN;AAEJ;;;AC5DI,IAAAC,sBAAA;AAZJ,SAAS,MAAM,EAAE,WAAW,MAAM,OAAO,UAAU,GAAG,MAAM,GAAe;AACzE,QAAM,eAAe,CAAC,UAA+C;AACnE,QAAI,SAAS,MAAM,OAAO,OAAO;AAC/B,YAAM,eAAe,WAAW,MAAM,OAAO,KAAK;AAClD,UAAI,CAAC,MAAM,YAAY,GAAG;AACxB,cAAM,OAAO,QAAQ,aAAa,SAAS;AAAA,MAC7C;AAAA,IACF;AACA,eAAW,KAAK;AAAA,EAClB;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA,aAAU;AAAA,MACV,WAAW;AAAA,QACT;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAU;AAAA,MACT,GAAG;AAAA;AAAA,EACN;AAEJ;;;AC7BI,IAAAC,sBAAA;AAFJ,SAAS,SAAS,EAAE,WAAW,GAAG,MAAM,GAAgC;AACtE,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,sCAAsC,SAAS;AAAA,MAC5D,GAAG;AAAA;AAAA,EACN;AAEJ;;;ACRA,IAAAC,gBAA8D;AAE9D,6BAAoB;AACpB,IAAAC,uBAAqD;;;ACFrD,sBAAiC;AACjC,IAAAC,uBAAsB;AAMb,IAAAC,uBAAA;AAHT,SAAS,OAAO;AAAA,EACd,GAAG;AACL,GAAsD;AACpD,SAAO,8CAAiB,sBAAhB,EAAqB,aAAU,UAAU,GAAG,OAAO;AAC7D;AAQA,SAAS,aAAa;AAAA,EACpB,GAAG;AACL,GAAwD;AACtD,SAAO,8CAAiB,wBAAhB,EAAuB,aAAU,iBAAiB,GAAG,OAAO;AACtE;AAQA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA,GAAG;AACL,GAAyD;AACvD,SACE;AAAA,IAAiB;AAAA,IAAhB;AAAA,MACC,aAAU;AAAA,MACV,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA;AAAA,EACA,kBAAkB;AAAA,EAClB,GAAG;AACL,GAEG;AACD,SACE,+CAAC,gBAAa,aAAU,iBACtB;AAAA,kDAAC,iBAAc;AAAA,IACf;AAAA,MAAiB;AAAA,MAAhB;AAAA,QACC,aAAU;AAAA,QACV,WAAW;AAAA,UACT;AAAA,UACA;AAAA,QACF;AAAA,QACC,GAAG;AAAA,QAEH;AAAA;AAAA,UACA,mBACC;AAAA,YAAiB;AAAA,YAAhB;AAAA,cACC,aAAU;AAAA,cACV,WAAU;AAAA,cAEV;AAAA,8DAAC,8BAAM;AAAA,gBACP,8CAAC,UAAK,WAAU,WAAU,mBAAK;AAAA;AAAA;AAAA,UACjC;AAAA;AAAA;AAAA,IAEJ;AAAA,KACF;AAEJ;AAEA,SAAS,aAAa,EAAE,WAAW,GAAG,MAAM,GAAgC;AAC1E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,gDAAgD,SAAS;AAAA,MACtE,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,aAAa,EAAE,WAAW,GAAG,MAAM,GAAgC;AAC1E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,aAAU;AAAA,MACV,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAEJ;AAEA,SAAS,YAAY;AAAA,EACnB;AAAA,EACA,GAAG;AACL,GAAuD;AACrD,SACE;AAAA,IAAiB;AAAA,IAAhB;AAAA,MACC,aAAU;AAAA,MACV,WAAW,GAAG,sCAAsC,SAAS;AAAA,MAC5D,GAAG;AAAA;AAAA,EACN;AAEJ;;;ADtGA,oBAAwB;AAExB,0BAAuB;AA4Mb,IAAAC,uBAAA;AA/LV,eAAe,eACb,UACA,WACA,aAAa,KACE;AACf,QAAM,MAAM,MAAM,IAAI,QAA0B,CAAC,SAAS,WAAW;AACnE,UAAM,QAAQ,IAAI,MAAM;AACxB,UAAM,cAAc;AACpB,UAAM,SAAS,MAAM,QAAQ,KAAK;AAClC,UAAM,UAAU;AAChB,UAAM,MAAM;AAAA,EACd,CAAC;AAGD,MAAI,cAAc;AAClB,MAAI,eAAe;AACnB,MAAI,eAAe,KAAK;AACtB,kBAAc;AACd,mBAAe;AAAA,EACjB;AAEA,QAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,QAAM,MAAM,OAAO,WAAW,IAAI;AAClC,MAAI,CAAC,IAAK,OAAM,IAAI,MAAM,mBAAmB;AAE7C,SAAO,QAAQ;AACf,SAAO,SAAS;AAChB,MAAI,wBAAwB;AAC5B,MAAI;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,SAAO,IAAI,QAAc,CAAC,SAAS,WAAW;AAC5C,WAAO;AAAA,MACL,CAAC,SAAS;AACR,YAAI,CAAC,KAAM,QAAO,OAAO,IAAI,MAAM,iBAAiB,CAAC;AACrD,gBAAQ,IAAI;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF,CAAC;AACH;AAEA,SAAS,cAAc,OAAiD;AACtE,SAAO,MAAM,OAAO,OAAO,EAAE,KAAK,GAAG;AACvC;AAEe,SAAR,WAA4B;AAAA,EACjC;AAAA,EACA;AAAA,EACA,QAAQ;AAAA,EACR;AAAA,EACA,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,gBAAgB;AAAA,EAChB;AACF,GAAoB;AAClB,QAAM,eAAW,sBAAgC,IAAI;AACrD,QAAM,CAAC,YAAY,aAAa,QAAI,wBAAwB,SAAS,IAAI;AACzE,QAAM,CAAC,cAAc,eAAe,QAAI,wBAAwB,IAAI;AAGpE,QAAM,CAAC,YAAY,aAAa,QAAI,wBAAS,KAAK;AAClD,QAAM,CAAC,MAAM,OAAO,QAAI,wBAAS,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;AAC/C,QAAM,CAAC,MAAM,OAAO,QAAI,wBAAS,CAAC;AAClC,QAAM,CAAC,mBAAmB,oBAAoB,QAAI,wBAKxC,IAAI;AAEd,QAAM,CAAC,aAAa,cAAc,QAAI,wBAAS,KAAK;AACpD,QAAM,CAAC,OAAO,QAAQ,QAAI,wBAAwB,IAAI;AAEtD,QAAM,EAAE,SAAS,QAAI,uBAAQ;AAC7B,QAAM,CAAC,OAAO,QAAQ,QAAI,wBAAwB,IAAI;AACtD,gBAAAC,QAAM,UAAU,MAAM;AACpB,aAAS,EAAE,KAAK,QAAQ;AAAA,EAC1B,GAAG,CAAC,QAAQ,CAAC;AAEb,gBAAAA,QAAM,UAAU,MAAM;AACpB,kBAAc,SAAS,IAAI;AAAA,EAC7B,GAAG,CAAC,KAAK,CAAC;AAEV,QAAM,mBAAe,2BAAY,CAAC,SAAe;AAC/C,QAAI,CAAC,KAAM;AACX,UAAM,MAAM,IAAI,gBAAgB,IAAI;AACpC,oBAAgB,GAAG;AACnB,kBAAc,IAAI;AAClB,YAAQ,CAAC;AACT,YAAQ,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;AACtB,aAAS,IAAI;AAAA,EACf,GAAG,CAAC,CAAC;AAEL,QAAM,gBAA4D,CAAC,MAAM;AACvE,UAAM,OAAO,EAAE,OAAO,QAAQ,CAAC;AAC/B,QAAI,KAAM,cAAa,IAAI;AAAA,EAC7B;AAEA,QAAM,aAAS;AAAA,IACb,CAAC,MAAuC;AACtC,QAAE,eAAe;AACjB,QAAE,gBAAgB;AAClB,UAAI,SAAU;AACd,YAAM,OAAO,EAAE,aAAa,QAAQ,CAAC;AACrC,UAAI,QAAQ,KAAK,KAAK,WAAW,QAAQ,EAAG,cAAa,IAAI;AAAA,IAC/D;AAAA,IACA,CAAC,UAAU,YAAY;AAAA,EACzB;AAEA,QAAM,aAAa,CAAC,MAAuC;AACzD,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAAA,EACpB;AAEA,QAAM,qBAAiB;AAAA,IACrB,CACE,OACA,eACG;AACH,2BAAqB,UAAU;AAAA,IACjC;AAAA,IACA,CAAC;AAAA,EACH;AAEA,QAAM,eAAW,2BAAY,YAAY;AACvC,QAAI,CAAC,kBAAmB;AACxB,mBAAe,IAAI;AACnB,aAAS,IAAI;AACb,QAAI;AACF,YAAM,MAAM,gBAAgB;AAC5B,UAAI,CAAC,IAAK,OAAM,IAAI,MAAM,4BAA4B;AAEtD,YAAM,OAAO,MAAM,eAAe,KAAK,mBAAmB,QAAQ;AAClE,YAAM,WAAW,IAAI,SAAS;AAC9B,eAAS,OAAO,eAAe,MAAM,WAAW;AAEhD,YAAM,MAAM,MAAM,MAAM,WAAW;AAAA,QACjC,QAAQ;AAAA,QACR,SAAS,QAAQ,EAAE,eAAe,UAAU,KAAK,GAAG,IAAI,CAAC;AAAA,QACzD,MAAM;AAAA,MACR,CAAC;AACD,UAAI,CAAC,IAAI,GAAI,OAAM,IAAI,MAAM,kBAAkB,IAAI,MAAM,GAAG;AAC5D,YAAM,OAAyB,MAAM,IAAI,KAAK;AAC9C,UAAI,CAAC,KAAK,IAAK,OAAM,IAAI,MAAM,sBAAsB;AAErD,oBAAc,KAAK,GAAG;AACtB,eAAS,KAAK,GAAG;AACjB,oBAAc,KAAK;AAAA,IACrB,SAAS,KAAK;AACZ,YAAMC,SAAQ;AACd,cAAQ,IAAI,0BAA0BA,OAAM,OAAO;AACnD,eAASA,QAAO,WAAW,0BAA0B;AAAA,IACvD,UAAE;AACA,qBAAe,KAAK;AACpB,UAAI,aAAc,KAAI,gBAAgB,YAAY;AAClD,sBAAgB,IAAI;AAAA,IACtB;AAAA,EACF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,QAAM,aAAa,MAAM;AACvB,kBAAc,IAAI;AAClB,aAAS,IAAI;AACb,aAAS,IAAI;AAAA,EACf;AAEA,QAAM,gBAAY,uBAAQ,MAAM;AAC9B,QAAI,WAAW,gBAAgB,QAAQ,OAAI,QAAQ;AACnD,QAAI,aAAa,IAAK,YAAW;AACjC,WACE,+CAAC,SAAI,WAAU,+DACb;AAAA,oDAAC,SAAI,WAAU,6BACb,wDAAC,+BAAO,WAAU,eAAc,GAClC;AAAA,MACA,8CAAC,SAAI,WAAU,uBAAsB,8CAErC;AAAA,MACA,+CAAC,SAAI,WAAU,qCAAoC;AAAA;AAAA,QACrC;AAAA,SACd;AAAA,OACF;AAAA,EAEJ,GAAG,CAAC,QAAQ,CAAC;AAEb,SACE,+CAAC,SAAI,WAAW,WAAW,UAAU,SAAS,GAC3C;AAAA,aACC,8CAAC,WAAM,WAAU,kDACd,iBACH;AAAA,IAGF,+CAAC,SAAI,WAAU,0BACZ;AAAA,oBACC,+CAAC,SAAI,WAAU,0EACb;AAAA,sDAAC,SAAI,WAAU,8BACb,wDAAC,8BAAiB,KAAK,YAAY,KAAI,WAAU,GACnD;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS;AAAA,YACT;AAAA,YACA,WAAU;AAAA,YACV,OAAM;AAAA,YACN,cAAW;AAAA,YAEX,wDAAC,0BAAE,WAAU,eAAc;AAAA;AAAA,QAC7B;AAAA,SACF;AAAA,MAGF,+CAAC,SAAI,WAAU,8BACZ;AAAA,SAAC,aACA;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YACA;AAAA,YACA,MAAK;AAAA,YACL,UAAU;AAAA,YACV,WAAW,CAAC,MAAM;AAChB,kBAAI,CAAC,aAAa,EAAE,QAAQ,WAAW,EAAE,QAAQ,MAAM;AACrD,kBAAE,eAAe;AACjB,yBAAS,SAAS,MAAM;AAAA,cAC1B;AAAA,YACF;AAAA,YACA,WAAW;AAAA,cACT;AAAA,cACA,WAAW,kCAAkC;AAAA,YAC/C;AAAA,YACA,SAAS,MAAM,CAAC,YAAY,SAAS,SAAS,MAAM;AAAA,YAEnD;AAAA;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,KAAK;AAAA,kBACL,MAAK;AAAA,kBACL,QAAO;AAAA,kBACP,UAAU;AAAA,kBACV,WAAU;AAAA,kBACV;AAAA;AAAA,cACF;AAAA;AAAA;AAAA,QACF,IAEA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,MAAK;AAAA,YACL,MAAK;AAAA,YACL,SAAS,MAAM,SAAS,SAAS,MAAM;AAAA,YACvC;AAAA,YAEA;AAAA,4DAAC,+BAAO,WAAU,oBAAmB;AAAA,cAAE;AAAA,cACvC;AAAA,gBAAC;AAAA;AAAA,kBACC,KAAK;AAAA,kBACL,MAAK;AAAA,kBACL,QAAO;AAAA,kBACP,UAAU;AAAA,kBACV,WAAU;AAAA,kBACV;AAAA;AAAA,cACF;AAAA;AAAA;AAAA,QACF;AAAA,QAGD,cACC;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,MAAK;AAAA,YACL,MAAK;AAAA,YACL,SAAS,MAAM,cAAc,IAAI;AAAA,YACjC;AAAA,YAEA;AAAA,4DAAC,qBAAAC,MAAA,EAAS,WAAU,oBAAmB;AAAA,cAAE;AAAA;AAAA;AAAA,QAC3C;AAAA,SAEJ;AAAA,OACF;AAAA,IAEC,SAAS,8CAAC,SAAI,WAAU,iCAAiC,iBAAM;AAAA,IAEhE;AAAA,MAAC;AAAA;AAAA,QACC,MAAM;AAAA,QACN,cAAc,CAAC,SAAS;AACtB,cAAI,CAAC,YAAa,eAAc,IAAI;AAAA,QACtC;AAAA,QAEA,yDAAC,iBAAc,WAAU,YACvB;AAAA,wDAAC,gBACC,wDAAC,eAAY,6BAAe,GAC9B;AAAA,UAEA,8CAAC,SAAI,WAAU,qEACZ,0BAAgB,aACf;AAAA,YAAC,uBAAAC;AAAA,YAAA;AAAA,cACC,OAAO,gBAAiB;AAAA,cACxB;AAAA,cACA;AAAA,cACA,QAAQ,aAAa,MAAM,MAAM,MAAM;AAAA,cACvC,cAAc;AAAA,cACd;AAAA,cACA,cAAc;AAAA,cACd,kBAAgB;AAAA,cAChB,UAAQ;AAAA;AAAA,UACV,IAEA,8CAAC,SAAI,WAAU,yEAAwE,iDAEvF,GAEJ;AAAA,UAEA,+CAAC,SAAI,WAAU,kBACb;AAAA,0DAAC,SAAI,WAAU,iCAAgC,kBAAI;AAAA,YACnD;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,IAAI;AAAA,gBACZ,KAAK;AAAA,gBACL,KAAK;AAAA,gBACL,MAAM;AAAA,gBACN,eAAe,CAAC,MAAM,QAAQ,EAAE,CAAC,KAAK,CAAC;AAAA;AAAA,YACzC;AAAA,YACA,+CAAC,SAAI,WAAU,iCAAgC;AAAA;AAAA,cAC/B;AAAA,cACb,aAAa,MAAM,eAAY,GAAG,QAAQ,OAAI,QAAQ;AAAA,cAAG;AAAA,eAC5D;AAAA,aACF;AAAA,UAEA,+CAAC,gBAAa,WAAU,SACtB;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAK;AAAA,gBACL,SAAQ;AAAA,gBACR,SAAS,MAAM;AACb,gCAAc,KAAK;AACnB,sBAAI,aAAc,KAAI,gBAAgB,YAAY;AAClD,kCAAgB,IAAI;AACpB,uCAAqB,IAAI;AAAA,gBAC3B;AAAA,gBACA,UAAU;AAAA,gBAEV;AAAA,gEAAC,0BAAE,WAAU,gBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAChC;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAK;AAAA,gBACL,SAAS;AAAA,gBACT,UACE,eACA,CAAC,qBACD,EAAE,gBAAgB;AAAA,gBAGnB,wBACC,gFACE;AAAA,gEAAC,gCAAQ,WAAU,6BAA4B;AAAA,kBAAE;AAAA,mBACnD,IAEA,+EAAE,qBAAO;AAAA;AAAA,YAEb;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;","names":["import_jsx_runtime","ImageIcon","Image","import_react","import_jsx_runtime","Link","import_lucide_react","import_react_slot","import_jsx_runtime","import_jsx_runtime","import_lucide_react","import_react_slot","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_react","import_lucide_react","import_lucide_react","import_jsx_runtime","import_jsx_runtime","React","error","CropIcon","Cropper"]}